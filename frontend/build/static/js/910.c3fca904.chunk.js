"use strict";(self.webpackChunkweb_shop=self.webpackChunkweb_shop||[]).push([[910],{1463:(e,a,l)=>{l.d(a,{o6:()=>h,cl:()=>x,vO:()=>j,ZG:()=>p,UP:()=>v});var t=l(5043),r=l(3892),s=l(4487),i=l(6497),n=l(7154);l(7503);n.A.create({baseURL:"".concat({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BASE_PATH:"/"}.REACT_APP_BASE_URL,"/"),headers:{Accept:"application/json"}});var d=l(1009),o=l(4960),c=l(579);const{SHOW_PARENT:u}=s.A,m=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const l={},t=[];return e.forEach(((e,t)=>{e.title=e.name,e.value=e.id,e.key=a?"".concat(a,"-").concat(t):"0-".concat(t),l[e.id]={...e,children:[]}})),e.forEach(((e,a)=>{e.parentId&&l[e.parentId]?l[e.parentId].children.push(l[e.id]):t.push({...l[e.id],key:"0-".concat(a)})})),t},h=e=>(0,c.jsxs)("button",{type:"button",disabled:e.loading,className:"flex justify-center w-full p-3 text-white transition border rounded-lg cursor-pointer border-primary bg-primary hover:bg-opacity-90",...e,children:[e.loading&&(0,c.jsx)("div",{className:"w-8 h-8 mr-5 border-t-4 border-blue-100 border-solid rounded-full animate-spin"}),e.loading?"Processing...":e.value]}),x=e=>(0,c.jsx)(r.D0,{name:e.name,children:a=>{let{field:l,form:t,meta:r}=a;return(0,c.jsxs)(c.Fragment,{children:[e.label&&(0,c.jsxs)("label",{className:"mb-2.5 block font-medium text-black dark:text-white",children:[e.label," ",((null===t||void 0===t?void 0:t.errors[e.name])||e.required)&&(0,c.jsx)("span",{className:"text-meta-1",children:"*"})]}),(0,c.jsxs)("div",{className:"relative",children:[e.pre&&(0,c.jsx)("div",{style:{position:"absolute",left:5,top:10},children:e.pre}),e.post&&(0,c.jsx)("div",{style:{position:"absolute",right:5,top:10},children:e.post}),(0,c.jsx)("input",{value:l.value,onChange:a=>{t.setFieldValue(e.name,a.target.value)},type:"text",placeholder:e.placeholder,className:"w-full p-2 pl-3 bg-transparent border rounded-lg outline-none border-stroke focus:border-primary focus-visible:shadow-none dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary"+((null===t||void 0===t?void 0:t.errors[e.name])&&(null===t||void 0===t?void 0:t.touched[e.name])&&" border-b-meta-1"),...e}),(null===t||void 0===t?void 0:t.errors[e.name])&&(null===t||void 0===t?void 0:t.touched[e.name])&&(0,c.jsx)("div",{className:"mt-1 text-xs-1 text-meta-1",children:t.errors[e.name]}),e.icon&&(0,c.jsx)("span",{className:"absolute right-4 top-4",children:e.icon})]})]})}}),p=e=>{const[a,l]=(0,t.useState)(!1);return(0,c.jsx)(r.D0,{name:e.name,children:t=>{let{field:r,form:s,meta:i}=t;return(0,c.jsxs)(c.Fragment,{children:[e.label&&(0,c.jsxs)("label",{className:"mb-2.5 block font-medium text-black dark:text-white",children:[e.label," ",((null===s||void 0===s?void 0:s.errors[e.name])||e.required)&&(0,c.jsx)("span",{className:"text-meta-1",children:"*"})]}),(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsx)("input",{value:r.value,onChange:a=>{s.setFieldValue(e.name,a.target.value)},type:a?"text":"password",placeholder:e.placeholder,className:"w-full py-2 pl-6 pr-10 bg-transparent border rounded-lg outline-none border-stroke focus:border-primary focus-visible:shadow-none dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary"+((null===s||void 0===s?void 0:s.errors[e.name])&&(null===s||void 0===s?void 0:s.touched[e.name])&&" border-b-meta-1"),...e}),(null===s||void 0===s?void 0:s.errors[e.name])&&(null===s||void 0===s?void 0:s.touched[e.name])&&(0,c.jsx)("div",{className:"mt-1 text-xs-1 text-meta-1",children:s.errors[e.name]}),(0,c.jsx)("span",{className:"absolute right-4 top-4",children:(0,c.jsx)("button",{onClick:()=>l(!a),children:a?(0,c.jsx)(d.Vap,{}):(0,c.jsx)(d._NO,{})})})]})]})}})},v=e=>(0,c.jsx)(r.D0,{name:e.name,children:a=>{let{field:l,form:t,meta:r}=a;return(0,c.jsxs)(c.Fragment,{children:[e.label&&(0,c.jsxs)("label",{className:"mb-2.5 block font-medium text-black dark:text-white",children:[e.label," ",((null===t||void 0===t?void 0:t.errors[e.name])||e.required)&&(0,c.jsx)("span",{className:"text-meta-1",children:"*"})]}),(0,c.jsxs)("div",{className:"relative w-full",children:[(0,c.jsx)("textarea",{rows:6,value:l.value,onChange:a=>{t.setFieldValue(e.name,a.target.value)},type:"text",placeholder:e.placeholder,className:"w-full py-2 pl-6 pr-10 bg-transparent border rounded-lg outline-none border-stroke focus:border-primary focus-visible:shadow-none dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary"+((null===t||void 0===t?void 0:t.errors[e.name])&&(null===t||void 0===t?void 0:t.touched[e.name])&&" border-b-meta-1"),...e}),(null===t||void 0===t?void 0:t.errors[e.name])&&(null===t||void 0===t?void 0:t.touched[e.name])&&(0,c.jsx)("div",{className:"mt-1 text-xs-1 text-meta-1",children:t.errors[e.name]})]})]})}}),j=e=>(0,c.jsx)(r.D0,{name:e.name,children:a=>{var l,t;let{field:r,form:n,meta:d}=a;return(0,c.jsxs)(c.Fragment,{children:[e.label&&(0,c.jsxs)("label",{className:"mb-2.5 block font-medium text-black dark:text-white",children:[e.label," ",((null===n||void 0===n?void 0:n.errors[e.name])||e.required)&&(0,c.jsx)("span",{className:"text-meta-1",children:"*"})]}),(0,c.jsxs)("div",{className:"relative",children:[e.tree?(0,c.jsx)(s.A,{allowClear:!0,style:{width:"100%"},placeholder:null!==(l=e.placeholder)&&void 0!==l?l:"Please select",value:r.value,showCheckedStrategy:u,onChange:a=>{n.setFieldValue(e.name,a)},treeData:m(e.options),...e}):(0,c.jsx)(i.A,{mode:"multiple",allowClear:!0,style:{width:"100%"},placeholder:null!==(t=e.placeholder)&&void 0!==t?t:"Please select",defaultValue:r.value,onChange:a=>{n.setFieldValue(e.name,a)},options:e.options,...e}),(null===n||void 0===n?void 0:n.errors[e.name])&&(null===n||void 0===n?void 0:n.touched[e.name])&&(0,c.jsx)("div",{className:"mt-1 text-xs-1 text-meta-1",children:n.errors[e.name]}),(0,c.jsx)("span",{className:"absolute right-4 top-4",children:(0,c.jsx)(o.pte,{})})]})]})}})},4910:(e,a,l)=>{l.r(a),l.d(a,{default:()=>T});var t=l(5043),r=l(6399),s=l(5513),i=l(4112),n=l(7021),d=l(2548),o=(l(4569),l(9418));function c(){const[e,a]=(0,t.useState)(null),[l,r]=(0,t.useState)(!1);return{edit:async(e,l)=>{try{r(!0);const t=await o.A.editDataApi(e,l);null!==t&&void 0!==t&&t.error||a(t),r(!1)}catch(t){r(!1)}},data:e,loading:l}}l(7681);var u=l(7368),m=l(1463),h=l(3892),x=l(899),p=l(5369),v=l(7149),j=l(4966),b=l(5263),y=l(579);const g={batimentCategoryId:"",title:"",description:"",firstName:"",lastName:"",city:"",email:"",phone:"",postalCode:""};function f(e){let{initialValues:a,handleUpdate:l,loading:r}=e;const s=x.Ik().shape({batimentCategoryId:x.Yj().required("Category is required"),title:x.Yj().required("Title is required"),description:x.Yj().required("Description is required"),firstName:x.Yj().required("First Name is required"),lastName:x.Yj().required("Last Name is required"),city:x.Yj().required("City is required"),email:x.Yj().email("Invalid email address").required("Email is required"),phone:x.Yj().required("Phone is required"),postalCode:x.Yj().required("Postal Code is required")}),{data:i}=function(e){const[a,l]=(0,t.useState)({}),[r,s]=(0,t.useState)(!0);return(0,t.useEffect)((()=>{(async()=>{s(!0);const a=await o.A.getDataApi(e.url,e.query?JSON.parse(e.query):{});null!==a&&void 0!==a&&a.error||l(a),s(!1)})()}),[e.query]),{data:a,loading:r}}({url:"batimentCategorys",query:JSON.stringify({showAll:!0})});return(0,y.jsx)(h.l1,{initialValues:null!==a&&void 0!==a&&a.edit?{...null===a||void 0===a?void 0:a.address,...a}:g,validationSchema:s,onSubmit:e=>l({...e,address:{...e}}),children:e=>{var l;let{handleChange:t,handleBlur:s,handleSubmit:n,values:d,errors:o}=e;return(0,y.jsxs)("div",{className:"w-full p-3",children:[(0,y.jsx)("div",{className:"mb-4",children:(0,y.jsx)(m.vO,{required:!0,tree:!0,multiple:!1,name:"batimentCategoryId",label:"language.catagorys_label",placeholder:"language.catagorys_placeholder",options:null!==(l=null===i||void 0===i?void 0:i.data)&&void 0!==l?l:[]})}),(0,y.jsx)("div",{className:"mb-4",children:(0,y.jsx)(m.cl,{required:!0,name:"title",label:"Title",placeholder:"Enter Title",icon:(0,y.jsx)(v.j_E,{})})}),(0,y.jsx)("div",{className:"mb-4",children:(0,y.jsx)(m.UP,{required:!0,name:"description",label:"Description",placeholder:"Enter Description"})}),(0,y.jsx)("h1",{className:"mt-10 mb-5 text-sm",children:"Address"}),(0,y.jsx)("div",{className:"mb-4",children:(0,y.jsx)(m.cl,{required:!0,name:"firstName",label:"First Name",placeholder:"Enter your First Name",icon:(0,y.jsx)(p.x$1,{})})}),(0,y.jsx)("div",{className:"mb-4",children:(0,y.jsx)(m.cl,{required:!0,name:"lastName",label:"Last Name",placeholder:"Enter your Last Name",icon:(0,y.jsx)(p.x$1,{})})}),(0,y.jsx)("div",{className:"mb-4",children:(0,y.jsx)(m.cl,{required:!0,name:"city",label:"City",placeholder:"Enter City",icon:(0,y.jsx)(b.sIY,{})})}),(0,y.jsx)("div",{className:"mb-4",children:(0,y.jsx)(m.cl,{required:!0,name:"email",label:"Email",placeholder:"Enter your Email",icon:(0,y.jsx)(v.mm2,{})})}),(0,y.jsx)("div",{className:"mb-4",children:(0,y.jsx)(m.cl,{required:!0,name:"phone",label:"Phone",placeholder:"Enter your Phone",icon:(0,y.jsx)(p.dRU,{})})}),(0,y.jsx)("div",{className:"mb-4",children:(0,y.jsx)(m.cl,{required:!0,name:"postalCode",type:"number",label:"Postal Code",placeholder:"Enter Postal Code",icon:(0,y.jsx)(j.Mqi,{})})}),(0,y.jsx)("div",{className:"fixed bottom-3 right-5 z-999",children:(0,y.jsx)(m.o6,{value:null!==a&&void 0!==a&&a.edit?"Update":"Add new",loading:r,onClick:n})})]})}})}var N=l(7503);var A=l(7431),k=l(9672),C=l(4647);const w=e=>{let{resource:a,close:l,data:r}=e;const{remove:s,data:i,loading:d}=function(){const[e,a]=(0,t.useState)(null),[l,r]=(0,t.useState)(!1);return{remove:async(e,l)=>{try{r(!0);const t=await o.A.deleteDataApi(e,l);t&&a(t),r(!1)}catch(t){r(!1)}},data:e,loading:l}}();return i&&(N.oR.success("".concat(a," remove successfully")),l()),(0,y.jsxs)(A.A,{open:!0,onCancel:()=>l(),footer:null,children:[(0,y.jsx)("h1",{className:"pb-2 text-sm",children:"Are you sure you want to delete this?"}),(0,y.jsx)("p",{className:"pb-2",children:"This action cannot be undone. This will be deleted forever."}),(0,y.jsxs)(k.A,{gutter:20,children:[(0,y.jsx)(C.A,{children:(0,y.jsx)(n.Ay,{onClick:()=>l(null),size:"large",children:"Cancel"})}),(0,y.jsx)(C.A,{children:(0,y.jsx)(n.Ay,{loading:d,onClick:()=>{var e;s(a,{id:null===(e=r)||void 0===e?void 0:e.id})},size:"large",type:"primary",danger:!0,children:"Delete"})})]})]})},q=e=>{let{resource:a,close:l,data:t}=e;const{edit:r,data:s,loading:i}=c();return s&&(N.oR.success("Status update successfully"),l()),(0,y.jsxs)(A.A,{open:!0,onCancel:()=>l(),footer:null,children:[(0,y.jsx)("h1",{className:"pb-2 text-sm",children:"Are you sure you want to ".concat("active"==t.status?"inactive":"active"," this?")}),(0,y.jsxs)(k.A,{gutter:20,children:[(0,y.jsx)(C.A,{children:(0,y.jsx)(n.Ay,{onClick:()=>l(null),size:"large",children:"Cancel"})}),(0,y.jsx)(C.A,{children:(0,y.jsx)(n.Ay,{loading:i,onClick:()=>{return e=t,void r(a,{...e,status:"active"==t.status?"inactive":"active"});var e},size:"large",type:"primary",danger:!0,children:"active"==t.status?"INACTIVE":"ACTIVE"})})]})]})};var E=l(8677);const S=e=>{let{resource:a,close:l,FormData:r,data:s}=e;const{create:i,data:n,loading:d}=function(){const[e,a]=(0,t.useState)(null),[l,r]=(0,t.useState)(!1);return{create:async(e,l)=>{try{r(!0);const t=await o.A.addDataApi(e,l);null!==t&&void 0!==t&&t.error||a(t),r(!1)}catch(t){r(!1)}},data:e,loading:l}}();return n&&(N.oR.success("New ".concat(a," add successfully")),l()),(0,y.jsx)(E.A,{mask:!0,width:"70%",title:"Add ".concat(a),placement:"right",onClose:()=>l(null),open:!0,footer:(0,y.jsx)("div",{className:"p-7"}),children:(0,y.jsx)(r,{initialValues:s,handleUpdate:e=>{i(a,e)},loading:d})})},D=e=>{let{resource:a,close:l,FormData:t,data:r}=e;const{edit:s,data:i,loading:n}=c();return i&&(N.oR.success("".concat(a," update successfully")),l()),(0,y.jsx)(E.A,{mask:!0,width:"70%",title:"Edit ".concat(a),placement:"right",onClose:()=>l(null),open:!0,footer:(0,y.jsx)("div",{className:"p-7"}),children:(0,y.jsx)(t,{initialValues:r,handleUpdate:e=>{s(a,{...e})},loading:n})})},I="batiments";function T(){var e,a;const[l,c]=(0,t.useState)(null),[m,h]=(0,t.useState)({skip:0,take:10}),{fetch:x,data:p,loading:v}=function(e){const[a,l]=(0,t.useState)(null),[r,s]=(0,t.useState)(!1);return{fetch:async()=>{try{s(!0);const a=await o.A.getDataApi(e.url,e.query?JSON.parse(e.query):{});null!==a&&void 0!==a&&a.error||l(a),s(!1)}catch(a){s(!1)}},data:a,loading:r}}({url:I,query:JSON.stringify(m)});(0,t.useEffect)((()=>{x()}),[m]);const j=()=>{x(),c(null)},b=[{title:"Category",dataIndex:"batimentCategory",render:e=>null===e||void 0===e?void 0:e.name},{title:"Title",dataIndex:"title",sorter:!0,render:e=>(0,y.jsx)("span",{children:"".concat(e)})},{title:"Name",dataIndex:"address",sorter:!0,render:e=>(0,y.jsx)("span",{children:"".concat(null===e||void 0===e?void 0:e.firstName," ").concat(null===e||void 0===e?void 0:e.lastName)})},{title:"City",dataIndex:"address",sorter:!0,render:e=>(0,y.jsx)("span",{children:"".concat(null===e||void 0===e?void 0:e.city)})},{title:"Status",dataIndex:"status",render:e=>(0,y.jsx)(r.A,{color:"active"==e?"success":"error",children:e})},{title:"Actions",dataIndex:"address",key:"address",render:(e,a)=>(0,y.jsx)(s.A,{overlay:(0,y.jsxs)(i.A,{children:[(0,y.jsx)(i.A.Item,{children:(0,y.jsx)(n.Ay,{type:"link",onClick:()=>c({...a,edit:!0}),children:"EDIT"})},"1"),(0,y.jsx)(i.A.Item,{children:(0,y.jsx)(n.Ay,{type:"link",onClick:()=>c({...a,active:!0}),children:"active"==a.status?"INACTIVE":"ACTIVE"})},"2"),(0,y.jsx)(i.A.Item,{children:(0,y.jsx)(n.Ay,{type:"link",onClick:()=>c({...a,delete:!0}),children:"DELETE"})},"3")]}),children:(0,y.jsx)(n.Ay,{type:"text",onClick:e=>e.preventDefault(),children:(0,y.jsx)(u.txp,{})})})}];return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:"fixed bottom-4 right-4 z-999",children:(0,y.jsx)("button",{onClick:()=>c({add:!0}),className:"px-4 py-2 font-bold text-white rounded-full shadow-lg bg-primary hover:bg-opacity-90",children:"ADD"})}),(0,y.jsx)(d.A,{className:"mainTable",loading:v,dataSource:null!==(e=null===p||void 0===p?void 0:p.data)&&void 0!==e?e:[],columns:b,pagination:{showQuickJumper:!0,total:null!==(a=null===p||void 0===p?void 0:p.count)&&void 0!==a?a:0,onChange:(e,a)=>{h({skip:(e-1)*a,take:a})}}}),l&&l.add&&(0,y.jsx)(S,{resource:I,close:j,FormData:f,data:l}),l&&l.edit&&(0,y.jsx)(D,{resource:I,close:j,FormData:f,data:l}),l&&l.delete&&(0,y.jsx)(w,{resource:I,close:j,data:l}),l&&l.active&&(0,y.jsx)(q,{resource:I,close:j,data:l})]})}}}]);
//# sourceMappingURL=910.c3fca904.chunk.js.map